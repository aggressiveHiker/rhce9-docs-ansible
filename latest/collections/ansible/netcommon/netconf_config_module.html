<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ansible.netcommon.netconf_config module – netconf device configuration &mdash; Ansible Documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/ansible.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/antsibull-minimal.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/rtd-ethical-ads.css" type="text/css" />
    <link rel="shortcut icon" href="_static/images/Ansible-Mark-RGB_Black.svg"/>
    <link rel="canonical" href="https://docs.ansible.com/ansible/latest/collections/ansible/netcommon/netconf_config_module.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ansible.netcommon.netconf_get module – Fetch configuration/state data from NETCONF enabled network devices." href="netconf_get_module.html" />
    <link rel="prev" title="ansible.netcommon.net_vrf module – (deprecated, removed after 2022-06-01) Manage VRFs on network devices" href="net_vrf_module.html" /><!-- extra head elements for Ansible beyond RTD Sphinx Theme -->
<script src="https://www.redhat.com/dtm.js"></script>


<!-- <meta class="swiftype" name="published_at" data-type="date" content="2017-12-13" /> -->
<meta class="swiftype" name="version" data-type="string" content="6">

<!-- Google Tag Manager Data Layer -->
<script>
 dataLayer = [];
</script>
<!-- End Google Tag Manager Data Layer -->



<script>
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','https://s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','yABGvz2N8PwcwBxyfzUc','2.0.0');
</script>

</head>

<body class="wy-body-for-nav"><!-- extra body elements for Ansible beyond RTD Sphinx Theme -->
<!-- Google Tag Manager -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSB293" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-PSB293');</script>
<!-- End Google Tag Manager -->

<div class="DocSite-globalNav ansibleNav">
  <ul>
    <li><a href="https://www.ansible.com/ansiblefest" target="_blank">AnsibleFest</a></li>
    <li><a href="https://www.ansible.com/tower" target="_blank">Products</a></li>
    <li><a href="https://www.ansible.com/community" target="_blank">Community</a></li>
    <li><a href="https://www.ansible.com/webinars-training" target="_blank">Webinars & Training</a></li>
    <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
  </ul>
</div>

<a class="DocSite-nav" href="/" style="padding-bottom: 30px;">

  <img class="DocSiteNav-logo"
    src="../../../_static/images/Ansible-Mark-RGB_White.svg"
    alt="Ansible Logo">
  <div class="DocSiteNav-title">Documentation</div>
</a>
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> Ansible
          </a>
              <div class="version">
                6
              </div><!--- Based on https://github.com/rtfd/sphinx_rtd_theme/pull/438/files -->

<div class="version">
  
    <div class="version-dropdown">
      <script>
        function switchVersionTo(slug) {
          var current_url_path = window.location.pathname;
          var url_version = current_url_path.search("/6/") > -1
            ? "/6/"
            : "/latest/";
          var new_version_url = current_url_path.replace(url_version, "/" + slug + "/");
          window.location.replace(new_version_url);
        }
      </script>
      <select
          class="version-list"
          id="version-list"
          onchange="switchVersionTo(this.value);"
      >
        
        <option
            value="latest"
            
        >
            latest
        </option>
        
        <option
            value="2.9"
            
        >
            2.9
        </option>
        
        <option
            value="devel"
            
        >
            devel
        </option>
        
      </select>
    </div>
  
</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" method="get">
    <input type="text" class="st-default-search-input" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Ansible getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Getting started with Ansible</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation, Upgrade &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation_guide/index.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../porting_guides/porting_guides.html">Ansible Porting Guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/index.html">User Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing to Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../community/index.html">Ansible Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../community/contributions_collections.html">Ansible Collections Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../community/contributions.html">ansible-core Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../community/advanced_index.html">Advanced Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_guide/style_guide/index.html">Ansible documentation style guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extending Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_guide/index.html">Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Common Ansible Scenarios</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../scenario_guides/cloud_guides.html">Legacy Public Cloud Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scenario_guides/network_guides.html">Network Technology Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scenario_guides/virt_guides.html">Virtualization and Containerization Guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Automation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../network/getting_started/index.html">Network Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../network/user_guide/index.html">Network Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../network/dev_guide/index.html">Network Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Ansible Galaxy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../galaxy/user_guide.html">Galaxy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../galaxy/dev_guide.html">Galaxy Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference &amp; Appendices</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Collection Index</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../amazon/index.html">Collections in the Amazon Namespace</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Collections in the Ansible Namespace</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../builtin/index.html">Ansible.Builtin</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Ansible.Netcommon</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="index.html#description">Description</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html#plugin-index">Plugin Index</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../posix/index.html">Ansible.Posix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html">Ansible.Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../windows/index.html">Ansible.Windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../arista/index.html">Collections in the Arista Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../awx/index.html">Collections in the Awx Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../azure/index.html">Collections in the Azure Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../check_point/index.html">Collections in the Check_point Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chocolatey/index.html">Collections in the Chocolatey Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cisco/index.html">Collections in the Cisco Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloud/index.html">Collections in the Cloud Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloudscale_ch/index.html">Collections in the Cloudscale_ch Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/index.html">Collections in the Community Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../containers/index.html">Collections in the Containers Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cyberark/index.html">Collections in the Cyberark Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dellemc/index.html">Collections in the Dellemc Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../f5networks/index.html">Collections in the F5networks Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fortinet/index.html">Collections in the Fortinet Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../frr/index.html">Collections in the Frr Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gluster/index.html">Collections in the Gluster Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../google/index.html">Collections in the Google Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hetzner/index.html">Collections in the Hetzner Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hpe/index.html">Collections in the Hpe Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ibm/index.html">Collections in the Ibm Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../infinidat/index.html">Collections in the Infinidat Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../infoblox/index.html">Collections in the Infoblox Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inspur/index.html">Collections in the Inspur Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../junipernetworks/index.html">Collections in the Junipernetworks Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kubernetes/index.html">Collections in the Kubernetes Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mellanox/index.html">Collections in the Mellanox Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../netapp/index.html">Collections in the Netapp Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../netapp_eseries/index.html">Collections in the Netapp_eseries Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../netbox/index.html">Collections in the Netbox Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ngine_io/index.html">Collections in the Ngine_io Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../openstack/index.html">Collections in the Openstack Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../openvswitch/index.html">Collections in the Openvswitch Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ovirt/index.html">Collections in the Ovirt Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../purestorage/index.html">Collections in the Purestorage Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sensu/index.html">Collections in the Sensu Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../servicenow/index.html">Collections in the Servicenow Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../splunk/index.html">Collections in the Splunk Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../t_systems_mms/index.html">Collections in the T_systems_mms Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theforeman/index.html">Collections in the Theforeman Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vmware/index.html">Collections in the Vmware Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vyos/index.html">Collections in the Vyos Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../wti/index.html">Collections in the Wti Namespace</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../all_plugins.html">Indexes of all modules and plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/playbooks_keywords.html">Playbook Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/common_return_values.html">Return Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/config.html">Ansible Configuration Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/general_precedence.html">Controlling how Ansible behaves: precedence rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/YAMLSyntax.html">YAML Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/python_3_support.html">Python 3 Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/interpreter_discovery.html">Interpreter Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/release_and_maintenance.html">Releases and maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/test_strategies.html">Testing Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_guide/testing/sanity/index.html">Sanity Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/module_utils.html">Ansible Reference: Module Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/special_variables.html">Special Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/tower.html">Red Hat Ansible Automation Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/automationhub.html">Ansible Automation Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/logging.html">Logging Ansible output</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Roadmaps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../roadmap/ansible_roadmap_index.html">Ansible Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../roadmap/ansible_core_roadmap_index.html">ansible-core Roadmaps</a></li>
</ul>
<!-- extra nav elements for Ansible beyond RTD Sphinx Theme -->
<!-- changeable widget links to tower - do not change as image controlled by Ansible-->
<div id="sideBanner">
  <br/>
  <a href="https://www.ansible.com/docs-left?utm_source=docs">
    <img style="border-width:0px;" src="https://cdn2.hubspot.net/hubfs/330046/docs-graphics/ASB-docs-left-rail.png" />
  </a>
  <br/><br/><br/>
</div>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Ansible</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Collection Index</a> &raquo;</li>
          <li><a href="../index.html">Collections in the Ansible Namespace</a> &raquo;</li>
          <li><a href="index.html">Ansible.Netcommon</a> &raquo;</li>
      <li>ansible.netcommon.netconf_config module – netconf device configuration</li>
  <li class="wy-breadcrumbs-aside">
          <!-- Ansible-specific additions for modules etc -->
            
            
              <br>
            <!-- Remove main index page as it is no longer editable -->
            
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  <script>
    function startsWith(str, needle) {
      return str.slice(0, needle.length) == needle
    }
    function startsWithOneOf(str, needles) {
      return needles.some(function (needle) {
        return startsWith(str, needle);
      });
    }
    var banner = '';
      var extra_banner = '';
    /*use extra_banner for when marketing wants something extra, like a survey or AnsibleFest notice
    var extra_banner =
      '<div id="latest_extra_banner_id" class="admonition important">' +
      '<br>' +
      '<p>' +
        'You\'re invited to AnsibleFest 2021! ' +
      '<p>' +
        'Explore ways to automate, innovate, and accelerate with our free virtual event September 29-30. ' +
      '<pr>' +
        '<a href="https://reg.ansiblefest.redhat.com/flow/redhat/ansible21/regGenAttendee/login?sc_cid=7013a000002pemAAAQ">Register now!</a> ' +
      '</p>' +
      '<br>' +
      '</div>'; */
    // Create a banner if we're not on the official docs site
    if (location.host == "docs.testing.ansible.com") {
      document.write('<div id="testing_banner_id" class="admonition important">' +
                     '<p>This is the testing site for Ansible Documentation. Unless you are reviewing pre-production changes, please visit the <a href="https://docs.ansible.com/ansible/latest/">official documentation website</a>.</p> <p></p>' +
                     '</div>');
    }
    
      // Create a banner
      current_url_path = window.location.pathname;

      var important = false;
      var msg = '<p>';
      if (startsWith(current_url_path, "/ansible-core/")) {
        msg += 'You are reading documentation for Ansible Core, which contains no plugins except for those in ansible.builtin. For documentation of the Ansible package, go to <a href="/ansible/latest">the latest documentation</a>.';
      } else if (startsWithOneOf(current_url_path, ["/ansible/latest/", "/ansible/6/"])) {
        /* temp extra banner to advertise AnsibeFest2021 */
        banner += extra_banner;

        msg += 'You are reading the <b>latest</b> (stable) community version of the Ansible documentation. Red Hat subscribers, select <b>2.9</b> in the version selection to the left for the most recent Red Hat release.';
      } else if (startsWith(current_url_path, "/ansible/2.9/")) {
        msg += 'You are reading the latest Red Hat released version of the Ansible documentation. Community users can use this version, or select <b>latest</b> from the version selector to the left for the most recent community version.';
      } else if (startsWith(current_url_path, "/ansible/devel/")) {
        /* temp extra banner to advertise AnsibleFest2021 */
        banner += extra_banner;

        /* temp banner to advertise survey
        important = true;
        msg += 'Please take our <a href="https://www.surveymonkey.co.uk/r/B9V3CDY">Docs survey</a> before December 31 to help us improve Ansible documentation.';
        */

        msg += 'You are reading the <b>devel</b> version of the Ansible documentation - this version is not guaranteed stable. Use the version selection to the left if you want the <b>latest</b> (stable) released version.';
      } else {
        msg += 'You are reading an older version of the Ansible documentation. Use the version selection to the left if you want the <b>latest</b> (stable) released version.';
      }
      msg += '</p>';

      banner += '<div id="banner_id" class="admonition ';
      banner += important ? 'important' : 'caution';
      banner += '">';
      banner += important ? '<br>' : '';
      banner += msg;
      banner += important ? '<br>' : '';
      banner += '</div>';
      document.write(banner);
    
  </script>


  
           <div itemprop="articleBody">
             
  <span class="target" id="ansible-collections-ansible-netcommon-netconf-config-module"></span><section id="ansible-netcommon-netconf-config-module-netconf-device-configuration">
<h1>ansible.netcommon.netconf_config module – netconf device configuration<a class="headerlink" href="#ansible-netcommon-netconf-config-module-netconf-device-configuration" title="Permalink to this headline"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ansible/netcommon">ansible.netcommon collection</a> (version 3.0.1).</p>
<p>You might already have this collection installed if you are using the <code class="docutils literal notranslate"><span class="pre">ansible</span></code> package.
It is not included in <code class="docutils literal notranslate"><span class="pre">ansible-core</span></code>.
To check whether it is installed, run <code class="code docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">list</span></code>.</p>
<p>To install it, use: <code class="code docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">install</span> <span class="pre">ansible.netcommon</span></code>.</p>
<p>To use it in a playbook, specify: <code class="code docutils literal notranslate"><span class="pre">ansible.netcommon.netconf_config</span></code>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.0.0: </span>of ansible.netcommon</p>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#requirements" id="id2">Requirements</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id3">Parameters</a></p></li>
<li><p><a class="reference internal" href="#notes" id="id4">Notes</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id5">Examples</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id6">Return Values</a></p></li>
</ul>
</div>
<section id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Netconf is a network management protocol developed and standardized by the IETF. It is documented in RFC 6241.</p></li>
<li><p>This module allows the user to send a configuration XML file to a netconf device, and detects if there was a configuration change.</p></li>
</ul>
</section>
<section id="requirements">
<h2><a class="toc-backref" href="#id2">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline"></a></h2>
<p>The below requirements are needed on the host that executes this module.</p>
<ul class="simple">
<li><p>ncclient</p></li>
</ul>
</section>
<section id="parameters">
<h2><a class="toc-backref" href="#id3">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline"></a></h2>
<table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-backup"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-backup"><strong>backup</strong></p>
<a class="ansibleOptionLink" href="#parameter-backup" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>This argument will cause the module to create a full backup of the current <code class="docutils literal notranslate"><span class="pre">running-config</span></code> from the remote device before any changes are made. If the <code class="docutils literal notranslate"><span class="pre">backup_options</span></code> value is not given, the backup file is written to the <code class="docutils literal notranslate"><span class="pre">backup</span></code> folder in the playbook root directory or role root directory, if playbook is part of an ansible role. If the directory does not exist, it is created.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span></p></li>
<li><p><span class="ansible-option-choices-entry">yes</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-backup_options"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-backup-options"><strong>backup_options</strong></p>
<a class="ansibleOptionLink" href="#parameter-backup_options" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>This is a dict object containing configurable options related to backup file path. The value of this option is read only when <code class="docutils literal notranslate"><span class="pre">backup</span></code> is set to <em>yes</em>, if <code class="docutils literal notranslate"><span class="pre">backup</span></code> is set to <em>no</em> this option will be silently ignored.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-backup_options/dir_path"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-backup-options-dir-path"><strong>dir_path</strong></p>
<a class="ansibleOptionLink" href="#parameter-backup_options/dir_path" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>This option provides the path ending with directory name in which the backup configuration file will be stored. If the directory does not exist it will be first created and the filename is either the value of <code class="docutils literal notranslate"><span class="pre">filename</span></code> or default filename as described in <code class="docutils literal notranslate"><span class="pre">filename</span></code> options description. If the path value is not given in that case a <em>backup</em> directory will be created in the current working directory and backup configuration will be copied in <code class="docutils literal notranslate"><span class="pre">filename</span></code> within <em>backup</em> directory.</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-backup_options/filename"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-backup-options-filename"><strong>filename</strong></p>
<a class="ansibleOptionLink" href="#parameter-backup_options/filename" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>The filename to be used to store the backup configuration. If the filename is not given it will be generated based on the hostname, current time and date in format defined by &lt;hostname&gt;_config.&lt;current-date&gt;&#64;&lt;current-time&gt;</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-commit"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-commit"><strong>commit</strong></p>
<a class="ansibleOptionLink" href="#parameter-commit" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>This boolean flag controls if the configuration changes should be committed or not after editing the candidate datastore. This option is supported only if remote Netconf server supports :candidate capability. If the value is set to <em>False</em> commit won’t be issued after edit-config operation and user needs to handle commit or discard-changes explicitly.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-choices-entry">no</span></p></li>
<li><p><span class="ansible-option-default-bold">yes</span> <span class="ansible-option-default">← (default)</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-confirm"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-confirm"><strong>confirm</strong></p>
<a class="ansibleOptionLink" href="#parameter-confirm" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>This argument will configure a timeout value for the commit to be confirmed before it is automatically rolled back. If the <code class="docutils literal notranslate"><span class="pre">confirm_commit</span></code> argument is set to False, this argument is silently ignored. If the value of this argument is set to 0, the commit is confirmed immediately. The remote host MUST support :candidate and :confirmed-commit capability for this option to .</p>
<p class="ansible-option-line"><span class="ansible-option-default-bold">Default:</span> <span class="ansible-option-default">0</span></p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-confirm_commit"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-confirm-commit"><strong>confirm_commit</strong></p>
<a class="ansibleOptionLink" href="#parameter-confirm_commit" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>This argument will execute commit operation on remote device. It can be used to confirm a previous commit.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span></p></li>
<li><p><span class="ansible-option-choices-entry">yes</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-content"></div>
<div class="ansibleOptionAnchor" id="parameter-xml"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-xml"><span id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-content"></span><strong>content</strong></p>
<a class="ansibleOptionLink" href="#parameter-content" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: xml</span></p>
<p class="ansible-option-type-line"><span class="ansible-option-type">raw</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>The configuration data as defined by the device’s data models, the value can be either in xml string format or text format or python dictionary representation of JSON format.</p>
<p>In case of json string format it will be converted to the corresponding xml string using xmltodict library before pushing onto the remote host.</p>
<p>In case the value of this option isn <em>text</em> format the format should be supported by remote Netconf server.</p>
<p>If the value of <code class="docutils literal notranslate"><span class="pre">content</span></code> option is in <em>xml</em> format in that case the xml value should have <em>config</em> as root tag.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-default_operation"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-default-operation"><strong>default_operation</strong></p>
<a class="ansibleOptionLink" href="#parameter-default_operation" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>The default operation for &lt;edit-config&gt; rpc, valid values are <em>merge</em>, <em>replace</em> and <em>none</em>. If the default value is merge, the configuration data in the <code class="docutils literal notranslate"><span class="pre">content</span></code> option is merged at the corresponding level in the <code class="docutils literal notranslate"><span class="pre">target</span></code> datastore. If the value is replace the data in the <code class="docutils literal notranslate"><span class="pre">content</span></code> option completely replaces the configuration in the <code class="docutils literal notranslate"><span class="pre">target</span></code> datastore. If the value is none the <code class="docutils literal notranslate"><span class="pre">target</span></code> datastore is unaffected by the configuration in the config option, unless and until the incoming configuration data uses the <code class="docutils literal notranslate"><span class="pre">operation</span></code> operation to request a different operation.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-choices-entry">merge</span></p></li>
<li><p><span class="ansible-option-choices-entry">replace</span></p></li>
<li><p><span class="ansible-option-choices-entry">none</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-delete"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-delete"><strong>delete</strong></p>
<a class="ansibleOptionLink" href="#parameter-delete" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>It instructs the module to delete the configuration from value mentioned in <code class="docutils literal notranslate"><span class="pre">target</span></code> datastore.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span></p></li>
<li><p><span class="ansible-option-choices-entry">yes</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-error_option"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-error-option"><strong>error_option</strong></p>
<a class="ansibleOptionLink" href="#parameter-error_option" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>This option controls the netconf server action after an error occurs while editing the configuration.</p>
<p>If <em>error_option=stop-on-error</em>, abort the config edit on first error.</p>
<p>If <em>error_option=continue-on-error</em>, continue to process configuration data on error. The error is recorded and negative response is generated if any errors occur.</p>
<p>If <em>error_option=rollback-on-error</em>, rollback to the original configuration if any error occurs. This requires the remote Netconf server to support the <em>error_option=rollback-on-error</em> capability.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-default-bold">stop-on-error</span> <span class="ansible-option-default">← (default)</span></p></li>
<li><p><span class="ansible-option-choices-entry">continue-on-error</span></p></li>
<li><p><span class="ansible-option-choices-entry">rollback-on-error</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-format"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-format"><strong>format</strong></p>
<a class="ansibleOptionLink" href="#parameter-format" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>The format of the configuration provided as value of <code class="docutils literal notranslate"><span class="pre">content</span></code>.</p>
<p>In case of json string format it will be converted to the corresponding xml string using xmltodict library before pushing onto the remote host.</p>
<p>In case of <em>text</em> format of the configuration should be supported by remote Netconf server.</p>
<p>If the value of <code class="docutils literal notranslate"><span class="pre">format</span></code> options is not given it tries to guess the data format of <code class="docutils literal notranslate"><span class="pre">content</span></code> option as one of <em>xml</em> or <em>json</em> or <em>text</em>.</p>
<p>If the data format is not identified it is set to <em>xml</em> by default.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-choices-entry">xml</span></p></li>
<li><p><span class="ansible-option-choices-entry">text</span></p></li>
<li><p><span class="ansible-option-choices-entry">json</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-get_filter"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-get-filter"><strong>get_filter</strong></p>
<a class="ansibleOptionLink" href="#parameter-get_filter" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">raw</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>This argument specifies the XML string which acts as a filter to restrict the portions of the data retrieved from the remote device when comparing the before and after state of the device following calls to edit_config. When not specified, the entire configuration or state data is returned for comparison depending on the value of <code class="docutils literal notranslate"><span class="pre">source</span></code> option. The <code class="docutils literal notranslate"><span class="pre">get_filter</span></code> value can be either XML string or XPath or JSON string or native python dictionary, if the filter is in XPath format the NETCONF server running on remote host should support xpath capability else it will result in an error.</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-lock"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-lock"><strong>lock</strong></p>
<a class="ansibleOptionLink" href="#parameter-lock" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Instructs the module to explicitly lock the datastore specified as <code class="docutils literal notranslate"><span class="pre">target</span></code>. By setting the option value <em>always</em> is will explicitly lock the datastore mentioned in <code class="docutils literal notranslate"><span class="pre">target</span></code> option. It the value is <em>never</em> it will not lock the <code class="docutils literal notranslate"><span class="pre">target</span></code> datastore. The value <em>if-supported</em> lock the <code class="docutils literal notranslate"><span class="pre">target</span></code> datastore only if it is supported by the remote Netconf server.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-choices-entry">never</span></p></li>
<li><p><span class="ansible-option-default-bold">always</span> <span class="ansible-option-default">← (default)</span></p></li>
<li><p><span class="ansible-option-choices-entry">if-supported</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-save"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-save"><strong>save</strong></p>
<a class="ansibleOptionLink" href="#parameter-save" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>The <code class="docutils literal notranslate"><span class="pre">save</span></code> argument instructs the module to save the configuration in <code class="docutils literal notranslate"><span class="pre">target</span></code> datastore to the startup-config if changed and if :startup capability is supported by Netconf server.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span></p></li>
<li><p><span class="ansible-option-choices-entry">yes</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-source_datastore"></div>
<div class="ansibleOptionAnchor" id="parameter-source"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-source"><span id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-source-datastore"></span><strong>source_datastore</strong></p>
<a class="ansibleOptionLink" href="#parameter-source_datastore" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: source</span></p>
<p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Name of the configuration datastore to use as the source to copy the configuration to the datastore mentioned by <code class="docutils literal notranslate"><span class="pre">target</span></code> option. The values can be either <em>running</em>, <em>candidate</em>, <em>startup</em> or a remote URL</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-target"></div>
<div class="ansibleOptionAnchor" id="parameter-datastore"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-datastore"><span id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-target"></span><strong>target</strong></p>
<a class="ansibleOptionLink" href="#parameter-target" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: datastore</span></p>
<p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Name of the configuration datastore to be edited. - auto, uses candidate and fallback to running - candidate, edit &lt;candidate/&gt; datastore and then commit - running, edit &lt;running/&gt; datastore directly</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-default-bold">auto</span> <span class="ansible-option-default">← (default)</span></p></li>
<li><p><span class="ansible-option-choices-entry">candidate</span></p></li>
<li><p><span class="ansible-option-choices-entry">running</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-validate"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-parameter-validate"><strong>validate</strong></p>
<a class="ansibleOptionLink" href="#parameter-validate" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>This boolean flag if set validates the content of datastore given in <code class="docutils literal notranslate"><span class="pre">target</span></code> option. For this option to work remote Netconf server should support :validate capability.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><span class="ansible-option-default-bold">no</span> <span class="ansible-option-default">← (default)</span></p></li>
<li><p><span class="ansible-option-choices-entry">yes</span></p></li>
</ul>
</div></td>
</tr>
</tbody>
</table>
</section>
<section id="notes">
<h2><a class="toc-backref" href="#id4">Notes</a><a class="headerlink" href="#notes" title="Permalink to this headline"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This module requires the netconf system service be enabled on the remote device being managed.</p></li>
<li><p>This module supports devices with and without the candidate and confirmed-commit capabilities. It will always use the safer feature.</p></li>
<li><p>This module supports the use of connection=netconf</p></li>
<li><p>This module is supported on <code class="docutils literal notranslate"><span class="pre">ansible_network_os</span></code> network platforms. See the <a class="reference internal" href="../../../network/user_guide/platform_index.html#platform-options"><span class="std std-ref">Network Platform Options</span></a> for details.</p></li>
</ul>
</div>
</section>
<section id="examples">
<h2><a class="toc-backref" href="#id5">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">use lookup filter to provide xml configuration</span>
  <span class="nt">ansible.netcommon.netconf_config</span><span class="p">:</span>
    <span class="nt">content</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">lookup</span><span class="o">(</span><span class="s1">&#39;file&#39;</span><span class="o">,</span> <span class="s1">&#39;./config.xml&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">set ntp server in the device</span>
  <span class="nt">ansible.netcommon.netconf_config</span><span class="p">:</span>
    <span class="nt">content</span><span class="p">:</span> <span class="p p-Indicator">|</span>
      <span class="no">&lt;config xmlns:xc=&quot;urn:ietf:params:xml:ns:netconf:base:1.0&quot;&gt;</span>
          <span class="no">&lt;system xmlns=&quot;urn:ietf:params:xml:ns:yang:ietf-system&quot;&gt;</span>
              <span class="no">&lt;ntp&gt;</span>
                  <span class="no">&lt;enabled&gt;true&lt;/enabled&gt;</span>
                  <span class="no">&lt;server&gt;</span>
                      <span class="no">&lt;name&gt;ntp1&lt;/name&gt;</span>
                      <span class="no">&lt;udp&gt;&lt;address&gt;127.0.0.1&lt;/address&gt;&lt;/udp&gt;</span>
                  <span class="no">&lt;/server&gt;</span>
              <span class="no">&lt;/ntp&gt;</span>
          <span class="no">&lt;/system&gt;</span>
      <span class="no">&lt;/config&gt;</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wipe ntp configuration</span>
  <span class="nt">ansible.netcommon.netconf_config</span><span class="p">:</span>
    <span class="nt">content</span><span class="p">:</span> <span class="p p-Indicator">|</span>
      <span class="no">&lt;config xmlns:xc=&quot;urn:ietf:params:xml:ns:netconf:base:1.0&quot;&gt;</span>
          <span class="no">&lt;system xmlns=&quot;urn:ietf:params:xml:ns:yang:ietf-system&quot;&gt;</span>
              <span class="no">&lt;ntp&gt;</span>
                  <span class="no">&lt;enabled&gt;false&lt;/enabled&gt;</span>
                  <span class="no">&lt;server operation=&quot;remove&quot;&gt;</span>
                      <span class="no">&lt;name&gt;ntp1&lt;/name&gt;</span>
                  <span class="no">&lt;/server&gt;</span>
              <span class="no">&lt;/ntp&gt;</span>
          <span class="no">&lt;/system&gt;</span>
      <span class="no">&lt;/config&gt;</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">configure interface while providing different private key file path (for connection=netconf)</span>
  <span class="nt">ansible.netcommon.netconf_config</span><span class="p">:</span>
    <span class="nt">backup</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">backup_junos_location</span>
  <span class="nt">vars</span><span class="p">:</span>
    <span class="nt">ansible_private_key_file</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/home/admin/.ssh/newprivatekeyfile</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">configurable backup path</span>
  <span class="nt">ansible.netcommon.netconf_config</span><span class="p">:</span>
    <span class="nt">backup</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
    <span class="nt">backup_options</span><span class="p">:</span>
      <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">backup.cfg</span>
      <span class="nt">dir_path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/home/user</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;configure</span><span class="nv"> </span><span class="s">using</span><span class="nv"> </span><span class="s">direct</span><span class="nv"> </span><span class="s">native</span><span class="nv"> </span><span class="s">format</span><span class="nv"> </span><span class="s">configuration</span><span class="nv"> </span><span class="s">(cisco</span><span class="nv"> </span><span class="s">iosxr)&quot;</span>
  <span class="nt">ansible.netcommon.netconf_config</span><span class="p">:</span>
    <span class="nt">format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">json</span>
    <span class="nt">content</span><span class="p">:</span> <span class="p p-Indicator">{</span>
                <span class="s">&quot;config&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
                    <span class="s">&quot;interface-configurations&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
                        <span class="s">&quot;@xmlns&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;http://cisco.com/ns/yang/Cisco-IOS-XR-ifmgr-cfg&quot;</span><span class="p p-Indicator">,</span>
                        <span class="s">&quot;interface-configuration&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
                            <span class="s">&quot;active&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;act&quot;</span><span class="p p-Indicator">,</span>
                            <span class="s">&quot;description&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;test</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">ansible</span><span class="nv"> </span><span class="s">Loopback999&quot;</span><span class="p p-Indicator">,</span>
                            <span class="s">&quot;interface-name&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;Loopback999&quot;</span>
                        <span class="p p-Indicator">}</span>
                    <span class="p p-Indicator">}</span>
                <span class="p p-Indicator">}</span>
            <span class="p p-Indicator">}</span>
    <span class="nt">get_filter</span><span class="p">:</span> <span class="p p-Indicator">{</span>
                  <span class="s">&quot;interface-configurations&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
                      <span class="s">&quot;@xmlns&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;http://cisco.com/ns/yang/Cisco-IOS-XR-ifmgr-cfg&quot;</span><span class="p p-Indicator">,</span>
                      <span class="s">&quot;interface-configuration&quot;</span><span class="p p-Indicator">:</span> <span class="nv">null</span>
                  <span class="p p-Indicator">}</span>
              <span class="p p-Indicator">}</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;configure</span><span class="nv"> </span><span class="s">using</span><span class="nv"> </span><span class="s">json</span><span class="nv"> </span><span class="s">string</span><span class="nv"> </span><span class="s">format</span><span class="nv"> </span><span class="s">configuration</span><span class="nv"> </span><span class="s">(cisco</span><span class="nv"> </span><span class="s">iosxr)&quot;</span>
  <span class="nt">ansible.netcommon.netconf_config</span><span class="p">:</span>
    <span class="nt">format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">json</span>
    <span class="nt">content</span><span class="p">:</span> <span class="p p-Indicator">|</span>
            <span class="no">{</span>
                <span class="no">&quot;config&quot;: {</span>
                    <span class="no">&quot;interface-configurations&quot;: {</span>
                        <span class="no">&quot;@xmlns&quot;: &quot;http://cisco.com/ns/yang/Cisco-IOS-XR-ifmgr-cfg&quot;,</span>
                        <span class="no">&quot;interface-configuration&quot;: {</span>
                            <span class="no">&quot;active&quot;: &quot;act&quot;,</span>
                            <span class="no">&quot;description&quot;: &quot;test for ansible Loopback999&quot;,</span>
                            <span class="no">&quot;interface-name&quot;: &quot;Loopback999&quot;</span>
                        <span class="no">}</span>
                    <span class="no">}</span>
                <span class="no">}</span>
            <span class="no">}</span>
    <span class="nt">get_filter</span><span class="p">:</span> <span class="p p-Indicator">|</span>
            <span class="no">{</span>
                  <span class="no">&quot;interface-configurations&quot;: {</span>
                      <span class="no">&quot;@xmlns&quot;: &quot;http://cisco.com/ns/yang/Cisco-IOS-XR-ifmgr-cfg&quot;,</span>
                      <span class="no">&quot;interface-configuration&quot;: null</span>
                  <span class="no">}</span>
              <span class="no">}</span>


<span class="c1"># Make a round-trip interface description change, diff the before and after</span>
<span class="c1"># this demonstrates the use of the native display format and several utilities</span>
<span class="c1"># from the ansible.utils collection</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Define the openconfig interface filter</span>
  <span class="nt">set_fact</span><span class="p">:</span>
    <span class="nt">filter</span><span class="p">:</span>
      <span class="nt">interfaces</span><span class="p">:</span>
        <span class="s">&quot;@xmlns&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;http://openconfig.net/yang/interfaces&quot;</span>
        <span class="nt">interface</span><span class="p">:</span>
          <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ethernet2</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Get the pre-change config using the filter</span>
  <span class="nt">ansible.netcommon.netconf_get</span><span class="p">:</span>
    <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">running</span>
    <span class="nt">filter</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">filter</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">display</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">native</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pre</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Update the description</span>
  <span class="nt">ansible.utils.update_fact</span><span class="p">:</span>
    <span class="nt">updates</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pre.output.data.interfaces.interface.config.description</span>
      <span class="nt">value</span><span class="p">:</span> <span class="s">&quot;Configured</span><span class="nv"> </span><span class="s">by</span><span class="nv"> </span><span class="s">ansible</span><span class="nv"> </span><span class="cp">{{</span> <span class="m">100</span> <span class="o">|</span> <span class="nf">random</span> <span class="cp">}}</span><span class="s">&quot;</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">updated</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Apply the new configuration</span>
  <span class="nt">ansible.netcommon.netconf_config</span><span class="p">:</span>
    <span class="nt">content</span><span class="p">:</span>
      <span class="nt">config</span><span class="p">:</span>
        <span class="nt">interfaces</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">updated.pre.output.data.interfaces</span> <span class="cp">}}</span><span class="s">&quot;</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Get the post-change config using the filter</span>
  <span class="nt">ansible.netcommon.netconf_get</span><span class="p">:</span>
    <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">running</span>
    <span class="nt">filter</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">filter</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">display</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">native</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">post</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Show the differences between the pre and post configurations</span>
  <span class="nt">ansible.utils.fact_diff</span><span class="p">:</span>
    <span class="nt">before</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">pre.output.data</span><span class="o">|</span><span class="nf">ansible</span><span class="nv">.utils.to_paths</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">after</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">post.output.data</span><span class="o">|</span><span class="nf">ansible</span><span class="nv">.utils.to_paths</span> <span class="cp">}}</span><span class="s">&quot;</span>

<span class="c1"># TASK [Show the differences between the pre and post configurations] ********</span>
<span class="c1"># --- before</span>
<span class="c1"># +++ after</span>
<span class="c1"># @@ -1,11 +1,11 @@</span>
<span class="c1">#  {</span>
<span class="c1"># -    &quot;@time-modified&quot;: &quot;2020-10-23T12:27:17.462332477Z&quot;,</span>
<span class="c1"># +    &quot;@time-modified&quot;: &quot;2020-10-23T12:27:21.744541708Z&quot;,</span>
<span class="c1">#      &quot;@xmlns&quot;: &quot;urn:ietf:params:xml:ns:netconf:base:1.0&quot;,</span>
<span class="c1">#      &quot;interfaces.interface.aggregation.config[&#39;fallback-timeout&#39;][&#39;#text&#39;]&quot;: &quot;90&quot;,</span>
<span class="c1">#      &quot;interfaces.interface.aggregation.config[&#39;fallback-timeout&#39;][&#39;@xmlns&#39;]&quot;: &quot;http://arista.com/yang/openconfig/interfaces/augments&quot;,</span>
<span class="c1">#      &quot;interfaces.interface.aggregation.config[&#39;min-links&#39;]&quot;: &quot;0&quot;,</span>
<span class="c1">#      &quot;interfaces.interface.aggregation[&#39;@xmlns&#39;]&quot;: &quot;http://openconfig.net/yang/interfaces/aggregate&quot;,</span>
<span class="c1"># -    &quot;interfaces.interface.config.description&quot;: &quot;Configured by ansible 56&quot;,</span>
<span class="c1"># +    &quot;interfaces.interface.config.description&quot;: &quot;Configured by ansible 67&quot;,</span>
<span class="c1">#      &quot;interfaces.interface.config.enabled&quot;: &quot;true&quot;,</span>
<span class="c1">#      &quot;interfaces.interface.config.mtu&quot;: &quot;0&quot;,</span>
<span class="c1">#      &quot;interfaces.interface.config.name&quot;: &quot;Ethernet2&quot;,</span>
</pre></div>
</div>
</section>
<section id="return-values">
<h2><a class="toc-backref" href="#id6">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this headline"></a></h2>
<p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p>
<table class="colwidths-auto ansible-option-table docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="return-backup_path"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-return-backup-path"><strong>backup_path</strong></p>
<a class="ansibleOptionLink" href="#return-backup_path" title="Permalink to this return value"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>The full path to the backup file</p>
<p class="ansible-option-line"><span class="ansible-option-returned-bold">Returned:</span> when backup is yes</p>
<p class="ansible-option-line ansible-option-sample"><span class="ansible-option-sample-bold">Sample:</span> “<a class="reference external" href="/cdn-cgi/l/email-protection#eec19e828f978c8181859dc18f809d878c828bc18c8f8d859b9ec18d8180888789c8cddad8d5dcdedfd8c3ded9c3dfd8c8cdddd9d5c8cddbdcd5c8cddad6d5dcdc">/playbooks/ansible/backup/config<span>&#46;</span>2016-07-16<span>&#64;</span>22</a>:28:34”</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="return-diff"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-return-diff"><strong>diff</strong></p>
<a class="ansibleOptionLink" href="#return-diff" title="Permalink to this return value"></a><p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>If –diff option in enabled while running, the before and after configuration change are returned as part of before and after key.</p>
<p class="ansible-option-line"><span class="ansible-option-returned-bold">Returned:</span> when diff is enabled</p>
<p class="ansible-option-line ansible-option-sample"><span class="ansible-option-sample-bold">Sample:</span> {“after”: “\u003crpc-reply\u003e \u003cdata\u003e \u003cconfiguration\u003e \u003cversion\u003e17.3R1.10\u003c/version\u003e…\u003c–snip–\u003e”, “before”: “\u003crpc-reply\u003e \u003cdata\u003e \u003cconfiguration\u003e \u003cversion\u003e17.3R1.10\u003c/version\u003e…\u003c–snip–\u003e”}</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="return-server_capabilities"></div><p class="ansible-option-title" id="ansible-collections-ansible-netcommon-netconf-config-module-return-server-capabilities"><strong>server_capabilities</strong></p>
<a class="ansibleOptionLink" href="#return-server_capabilities" title="Permalink to this return value"></a><p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>list of capabilities of the server</p>
<p class="ansible-option-line"><span class="ansible-option-returned-bold">Returned:</span> success</p>
<p class="ansible-option-line ansible-option-sample"><span class="ansible-option-sample-bold">Sample:</span> [”<a class="reference external" href="urn:ietf:params:netconf:base:1.1">urn:ietf:params:netconf:base:1.1</a>”, “<a class="reference external" href="urn:ietf:params:netconf:capability:confirmed-commit:1.0">urn:ietf:params:netconf:capability:confirmed-commit:1.0</a>”, “<a class="reference external" href="urn:ietf:params:netconf:capability:candidate:1.0">urn:ietf:params:netconf:capability:candidate:1.0</a>”]</p>
</div></td>
</tr>
</tbody>
</table>
<section id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Leandro Lisboa Penz (&#64;lpenz)</p></li>
<li><p>Ganesh Nalawade (&#64;ganeshrn)</p></li>
</ul>
</section>
<section id="collection-links">
<h3>Collection links<a class="headerlink" href="#collection-links" title="Permalink to this headline"></a></h3>
<p class="ansible-links">
  <a href="https://github.com/ansible-collections/ansible.netcommon/issues" aria-role="button" target="_blank" rel="noopener external">Issue Tracker</a>
  <a href="https://github.com/ansible-collections/ansible.netcommon" aria-role="button" target="_blank" rel="noopener external">Repository (Sources)</a>
</p></section>
</section>
</section>


           </div>
          </div>
          

<footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="net_vrf_module.html" class="btn btn-neutral float-left" title="ansible.netcommon.net_vrf module – (deprecated, removed after 2022-06-01) Manage VRFs on network devices" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="netconf_get_module.html" class="btn btn-neutral float-right" title="ansible.netcommon.netconf_get module – Fetch configuration/state data from NETCONF enabled network devices." accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Ansible project contributors.
      <span class="lastupdated">Last updated on Jun 27, 2022.
      </span></p>
  </div>

  
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script><!-- extra footer elements for Ansible beyond RTD Sphinx Theme -->
<!-- begin analytics -->
<script>
var _hsq = _hsq || [];
_hsq.push(["setContentType", "standard-page"]);
      (function(d,s,i,r) {
      if (d.getElementById(i)){return;}
      var n = d.createElement(s),e = document.getElementsByTagName(s)[0];
      n.id=i;n.src = 'https://js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/330046.js';
      e.parentNode.insertBefore(n, e);
      })(document, "script", "hs-analytics",300000);
</script>
<!-- end analytics -->
<script>
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
  _satellite.pageBottom();
}
</script>

</body>
</html>